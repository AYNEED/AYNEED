# AYneed v2

## Требования к архитектуре

### 1. Общие положения

1. Monorepo (`yarn workspaces` или `lerna`)
2. TypeScript
3. Глобальный `eslint` на весь репозиторий
4. Глобальный `prettier` на весь репозиторий
5. `Prettier` на прекоммит
6. Централизованный зашифрованный vault для креденшиалов и код (`ansible`?), который раскладывает эти креденшиалы по `.env`-файлам
7. Реинсталл всех зависимостей на хук `post-merge`
8. Все внутренние урлы должны формироваться на основе расшаренной карты роутов

### 2. Common code

1. Общие тайпинги для общих сущностей
2. Менеджмент словарей (интернационализация)
3. Шаринг кода, отвечающего за работу с интернационализациями (за исключением специфических различий)
4. Шаринг кода или конфигов, отвечающих за валидацию данных
5. Шаринг общих констант
6. Шаринг карты роутов

### 3. Common client code (`web` / `mobile`)

1. Шаринг кода, отвечающего за менеджмент состояния

### 4 Backend

### 5. WEB

### 6. Mobile

### 7. Тесты

1. Весь критический функционал должен быть покрыт интеграционными тестами
2. Интеграционные тесты должны запускаться во всех основных средах (`docker` + `puppeteer`)

### 8. Инфраструктура

1. Continuous integration
2. Поддержка staging (одна ветка === один субдомен)
3. Все сервисы должны быть завернуты в контейнеры (`docker`)
4. Оркестрация контейнеров (`kubernetes`?)
